\subsection{Машина Тьюринга}
\subsubsection{Устройство машины Тьюринга}
Машина Тьюринга представляет собой \textit{абстрактное} устройство, состоящее из бесконечной ленты, считывающей (и печатающей) головки и управляющего устройства.

Лента разбита на ячейки (клетки); в каждой из них в произвольный дискретный момент времени находится ровно один символ \textit{внешнего алфавита} $A = \{a_0, a_1, \dots, a_{n - 1}\}$, $n \geqslant 2$. Алфавит содержит символ, называемый \textit{пустым} (обычно это $a_0$, и за него принимается $0$ (нуль)). Клетка с пустым символом называется \textit{пустой}. Бесконечность ленты означает, что в любой момент времени она конечна, но число клеток всегда можно увеличить в обе стороны насколько необходимо (потенциальная бесконечность).

Управляющее устройство в каждый момент времени находится в некотором состоянии $q_j$ из внутреннего алфавита $Q = \{q_0, q_1, \dots, q_{r - 1}\}$, $r \geqslant 2$. Иногда в $Q$ выделяются непересекающиеся подмножества $Q_0$ и $Q_1$ \textit{заключительных} и \textit{начальных состояний соответственно}. В дальнейшем $Q_0 = \{q_0\}$, $Q_1 = \{q_1\}$.

\begin{figure}[H]
    \centering
    \begin{tikzpicture}[every node/.style={block}, block/.style={minimum height=1.5em,outer sep=0pt,draw,rectangle,node distance=0pt}]
        \node (A)[minimum size=3em, very thick] {};
        \node (B)[left=of A, minimum size=3em] {};
        \node (C)[left=of B, minimum size=3em] {};
        \node (D)[right=of A, minimum size=3em] {};
        \node (ALabel)[draw=none,above=1.1em of D] {Просматриваемый символ};
        \draw[-] (ALabel) -- (A.center);
        \node (E)[right=of D, minimum size=3em] {};
        \node (F)[right=of E, minimum size=3em] {};
        \node (G)[right=of F, minimum size=3em] {};
        \node (rightest)[right=of G, minimum size=3em, draw=none] {\dots};
        \node (leftest)[left=of C, minimum size=3em, draw=none] {\dots};
        \node (H) [below=3em of A, draw=black, very thick, minimum size=3em] {};
        \begin{scope}[transform canvas={xshift=-1.25em}]
            \draw[-stealth] (A) -- node[left, text width=2cm, align=right, draw=none] {Просмотр символа} (H);
        \end{scope}
        \begin{scope}[transform canvas={xshift=+1.25em}]
            \draw[-stealth] (H) --node[right, text width=1.5cm, align=left, draw=none] {Замена символа} (A);
        \end{scope}
        \draw[stealth-stealth] ([yshift=-0.5em]H.south west) -- node[below, draw=none] {Перемещение указателя} ([yshift=-0.5em]H.south east);
    \end{tikzpicture}
\end{figure}
Головка перемещается вдоль ленты так, что в каждый момент времени она обозревает ровно одну ячейку, считывает содержимое обозреваемой ячейки, стирает находящийся в ней символ, записывает другой символ внешнего алфавита $A$ (он может совпадать с прежним).

Управляющее устройство в зависимости от состояния, в котором оно находится, и обозреваемого головкой символа изменяет своё внутреннее состояние или остаётся в прежнем, выдаёт головке команду напечатать в ячейке определённый символ $A$ и сдвинуться в следующий момент времени на одну клетку влево, вправо или остаться на месте.

Таким образом, работа управляющего устройства описывается тремя функциями:
\[
    G\colon Q\times A \to Q; \quad F\colon Q\times A \to A; \quad D\colon Q\times A \to \{\text{S}, \text{L}, \text{R}\}.
\]
Символы S, L, R означают оставление головки на месте, движение на клетку влево и вправо соответственно. Функции $G$, $F$ и $D$ называются \textit{функциями переходов}, \textit{выходов} и \textit{движения} соответственно. Их можно записать пятёркой вида $q_ia_jq_{ij}a_{ij}d_{ij}$, где $q_{ij} = G(q_i, a_j)$, $a_{ij} = F(q_i, a_j)$, $d_{ij} = D(q_i, a_j)$. Они называются \textit{командами} машины Тьюринга. В общем случае команды определены не для каждой пары $\langle q_i, a_j\rangle$.

Список всех команд, определяющих работу машины Тьюринга, называется её \textit{программой}. Программу можно записывать в таблицу. Если для пары $\langle q_i, a_j\rangle$ команда отсутствует, то в таблице ставится прочерк в соответствующей ячейке.
\begin{table}[H]
    \centering
    \begin{tabular}{| c | c | c | c | c | c |}
        \hline                 & \HC $q_0$ & \HC \dots & \HC $q_i$                & \HC \dots & \HC $q_{r - 1}$ \\
        \hline \HC $a_0$       &           & \dots     & ---                      & \dots     &     \\
        \hline \HC $\vdots$    & $\vdots$  & $\ddots$  & $\vdots$                 & $\ddots$  & $\vdots$ \\
        \hline \HC$a_j$        & ---       & \dots     & $q_{ij}\ a_{ij}\ d_{ij}$ & \dots     & --- \\
        \hline \HC $\vdots$    & $\vdots$  & $\ddots$  & $\vdots$                 & $\ddots$  & $\vdots$ \\
        \hline \HC $a_{n - 1}$ & ---       & \dots     &                          & \dots     &     \\
        \hline
    \end{tabular}
\end{table}

\subsubsection{Конфигурации}
Работу машины Тьюринга будем описывать на языке конфигураций.

Пусть в момент времени $t$ самая левая непустая ячейка $C_1$ на ленте содержит символ $a_{j_1}$, а самая правая непустая ячейка $C_s$~---~символ $a_{j_s}$ ($s \geqslant 2$). Тогда будем говорить, что в момент времени $t$ на ленте записано слово $P = a_{j_1}\dots a_{j_s}$. \\
При $s = 1$ на ленте записано слово $P = a_{j_1}$. Пустыми считаются клетки, содержащие пустой символ $a_0 \in A$. Далее пустой символ будем обозначать $\Lambda$.

Пусть в момент времени $t$ управляющее устройство находится в состоянии $q_i$, а головка обозревает символ $a_{j_\ell}$ слова $P$ ($\ell \geqslant 2$). Тогда слово
\[
    a_{j_1}\dots a_{j_{\ell - 1}}q_ia_{j_\ell}\dots a_{j_s}
\]
называется \textit{конфигурацией машины в момент времени $t$}.

При $\ell = 1$ конфигурация имеет вид $q_iP$. Если головка обозревает пустую ячейку, находящуюся слева (справа) от слова $P$, и между ней и первым (последним) непустым символом слова находятся $\nu \geqslant 0$ пустых ячеек, то конфигурацией называется слово
\[
    q_i\Lambda^{\nu + 1}P\ \ (P\Lambda^\nu q_i\Lambda),
\]
где $a^\nu$~---~сокращённая запись слова, состоящего из $\nu$ символов $a$. Если в момент $t$ лента пуста, то конфигурацией будет слово $q_i\Lambda$.

Пусть в момент $t$ машина имеет конфигурацию $a_{j_1}\dots a_{j_{\ell - 1}}q_ia_{j_\ell}\dots a_{j_s}$ и выполняется команда $q_ia_{j_\ell}q_{ij_\ell}a_{ij_\ell}d_{ij_\ell}$. Тогда при $d_{ij_\ell} = \text{L}$ в следующий момент машина будет иметь конфигурацию:
\begin{enumerate}
    \item $q_{ij_1}\Lambda a_{ij_1}a_{j_2}\dots a_{j_s}$, если $\ell = 1$;
    \item $q_{ij_2}a_{j_1}a_{ij_2}a_{j_3}\dots a_{j_s}$, если $\ell = 2$;
    \item $a_{j_1}\dots a_{j_{\ell - 2}}q_{ij_\ell}a_{j_{\ell - 1}}a_{ij_\ell}a_{j_{\ell + 1}}\dots a_{j_s}$, если $\ell > 2$.
\end{enumerate}
Если в какой-то момент времени управляющее устройство приходит в заключительное состояние $q_0$, машина прекращает работу, и её конфигурация в этот момент называется \textit{заключительной}.

Если для пары $\langle q_i, a_j\rangle$ команда отсутствует, то машина прекращает работу и текущая конфигурация также считается заключительной. Конфигурация, соответствующая началу работы, называется \textit{начальной}.

Пусть $K$~---~конфигурация в некоторый момент времени, $K'$~---~конфигурация в следующий момент. Тогда говорят, что конфигурация $K'$ \textit{непосредственно выводима} из $K$ (обозначение $K \models K'$). Если $K_1$~---~начальная конфигурация, то последовательность $K_1, \dots, K_m$, где $K_i \models K_{i + 1}$, $1 \leqslant i < m$, называется \textit{тьюринговым вычислением}. При этом конфигурация $K_m$ \textit{выводима из конфигурации} $K_1$: $K_1 \vdash K_m$. Если к тому же $K_m$ является заключительной конфигурацией, то говорят, что $K_m$ \textit{заключительно выводима из} $K_1$: $K_1 \Vdash K_m$.

Слово на ленте в начальный момент времени называется \textit{исходным} (\textit{начальным}). Если $P_1$~---~исходное слово, то машина $T$, начав с него, либо остановится через конечное число шагов, либо никогда не остановится. В первом случае говорят, что машина $T$ \textit{применима к слову} $P_1$, и результатом применения является слово $P$, соответствующее заключительной конфигурации (обозначение $P = T(P_1)$). Во втором случае говорят, что машина $T$ \textit{не применима} к слову $P_1$.

В дальнейшем предполагаем, что:
\begin{enumerate}
    \item Исходное слово не пусто.
    \item В начальный момент головка находится на самой левой непустой ячейке ленты.
    \item Начальное состояние машины $q_1$.
    \item Внешний алфавит двоичный, т.е. $A = \{0, 1\}$, $0$~---~пустой символ. 
\end{enumerate}

\textit{Зоной работы} машины $T$ (на исходном слове $P_1$) называется множество всех ячеек, которые за время работы машина хотя бы один раз обозревала.

\subsubsection{Операции над машинами Тьюринга}
\begin{enumerate}
    \item \textit{Композиция машин Тьюринга}. \\
    Пусть машины $T_1$ и $T_2$ заданы программами $\Pi_1$ и $\Pi_2$ соответственно. Пусть при этом внутренние алфавиты этих машин не пересекаются, $q_0'$~---~некоторое заключительное состояние машины $T_1$, $q_1''$~---~некоторое начальное состояние машины $T_2$. Заменим всюду в программе $\Pi_1$ состояние $q_0'$ на $q_1''$ и объединим полученную программу с $\Pi_2$. Новая программа $\Pi$ задаёт машину $T$~---~\textit{композицию машин $T_1$ и $T_2$ по паре состояний $q_0'$, $q_1''$}. Композиция обозначается $T_1\circ T_2$ ($T_1T_2$), или подробнее $T = T\big(T_1, T_2, \langle q_0', q_1''\rangle\big)$. Внешний алфавит композиции $T_1T_2$ является объединением внешних алфавитов $T_1$ и $T_2$.

    \item \textit{Итерация машины Тьюринга}. \\
    Пусть $q'$~---~некоторое заключительное состояние машины $T$ с программой $\Pi$, $q''$~---~некоторое состояние машины $T$, не являющееся заключительным. Заменив всюду в программе $\Pi$ символ $q'$ на $q''$, получим программу $\Pi'$, определяющую машину $T'(q', q'')$~---~\textit{итерацию машины $T$ по паре состояний $q'$, $q''$}.

    \item \textit{Разветвление машин Тьюринга}. \\
    Пусть машины $T_1$, $T_2$, $T_3$ заданы программами $\Pi_1$, $\Pi_2$, $\Pi_3$ соответственно. Пусть при этом внутренние алфавиты этих машин попарно не пересекаются, $q_0'$, $q_0''$~---~некоторые различные заключительные состояния машины $T_1$. Заменим всюду в программе $\Pi_1$ состояние $q_0'$ некоторым начальным состоянием $q_1'$ машины $T_2$, $q_0''$~---~некоторым начальным состоянием $q_1''$ машины $T_3$. Новую программу объединим с $\Pi_2$ и $\Pi_3$. Получим программу $\Pi$ машины $T = T\big(T_1, \langle q_0', q_1'\rangle, T_2, \langle q_0'', q_1''\rangle, T_3\big)$~---~\textit{разветвления машин $T_2$ и $T_3$, управляемым машиной $T_1$}.
\end{enumerate}

\textbf{Примеры}.
\begin{enumerate}
    \item \underline{Пример на композицию машин Тьюринга}. \\
    Построить композицию $T_1T_2$ машин Тьюринга $T_1$ и $T_2$ по паре состояний $\langle q_{10}, q_{21}\rangle$ и найти результат применения машины $T_1T_2$ к слову $P = 1^2[01]^21^2$ ($q_{20}$~---~заключительное состояние машины $T_2$).
    \begin{table}[H]
        \centering
        $T_1$: \begin{tabular}{| c | c | c | c |}
            \hline         & \HC $q_{11}$ & \HC $q_{12}$ & \HC $q_{13}$ \\
            \hline \HC $0$ & $q_{10}0$L   & $q_{13}0$R   & $q_{11}0$R \\
            \hline \HC $1$ & $q_{12}1$R   & $q_{13}1$R   & $q_{11}0$R \\
            \hline
        \end{tabular},\quad
        $T_2$: \begin{tabular}{| c | c | c |}
            \hline         & \HC $q_{21}$ & \HC $q_{22}$ \\
            \hline \HC $0$ & $q_{22}1$L   & $q_{20}0$R \\
            \hline \HC $1$ & $q_{22}1$L   & $q_{21}0$L \\
            \hline
        \end{tabular}.
    \end{table}
    \underline{Решение}. \\
    Композиция машин $T_1$ и $T_2$ строится так: во всех командах машины $T_1$ состояние $q_{10}$ заменяется на $q_{21}$ машины $T_2$, и обе таблицы (изменённая для $T_1$ и оригинальная для $T_2$) объединяются:
    \begin{table}[H]
        \centering
        $T_1T_2$: \begin{tabular}{| c | c | c | c | c | c |}
            \hline         & \HC $q_{11}$ & \HC $q_{12}$ & \HC $q_{13}$ & \HC $q_{21}$ & \HC $q_{22}$ \\
            \hline \HC $0$ & $q_{21}0$L   & $q_{13}0$R   & $q_{11}0$R   & $q_{22}1$L   & $q_{20}0$R \\
            \hline \HC $1$ & $q_{12}1$R   & $q_{13}1$R   & $q_{11}0$R   & $q_{22}1$L   & $q_{21}0$L \\
            \hline
        \end{tabular}.
    \end{table}
    Для понятности дальнейших операций перепишем слово $P$ в полном виде: $P = 11010111$. Начальная конфигурация: $q_{11}11010111$. Проводим Тьюрингово вычисление на основе машины $T_1T_2$ и начальной конфигурации $q_{11}11010111$:
    \begin{multline*}
        q_{11}11010111 \models 1q_{12}1010111 \models 11q_{13}010111 \models 110q_{11}10111 \models 1101q_{12}0111 \models 11010q_{13}111 \models 110100q_{11}11 \models \\
        \models 1101001q_{12}1 \models 11010011q_{13}0 \models 110100110q_{11}0 \models 11010011q_{21}00 \models 1101001q_{22}110 \models 110100q_{21}1010 \models \\
        \models 11010q_{22}01010 \models 110100q_{20}1010.
    \end{multline*}
    Итоговое слово на ленте (крайние нули в слово не включаем): $T_1T_2(P) = 1[10]^2[01]^2$.

    \item \underline{Пример на итерацию машины Тьюринга}. \\
    Найти результат применения машины $T_1$ по паре состояний $\langle q_0, q_i\rangle$, $i = 1$, к слову $P = 1^{3k}$ (заключительными состояниями являются $q_0$ и $q_0'$):
    \begin{table}[H]
        \centering
        $T_1$: \begin{tabular}{| c | c | c | c | c | c |}
            \hline         & \HC $q_1$ & \HC $q_2$ & \HC $q_3$ & \HC $q_4$ & \HC $q_5$ \\
            \hline \HC $0$ & $q_00$S   & $q_40$S   & $q_50$S   & $q_41$R   & $q_0'1$L \\
            \hline \HC $1$ & $q_20$R   & $q_30$R   & $q_10$R   & ---       & --- \\
            \hline
        \end{tabular}
    \end{table}
    \underline{Решение}. \\
    Итерация $T$ машины $T_1$ по паре состояний $\langle q_0, q_1\rangle$ строится путём замены $q_0$ на $q_1$ во всех командах $T_1$:
    \begin{table}[H]
        \centering
        $T$: \begin{tabular}{| c | c | c | c | c | c |}
            \hline         & \HC $q_1$ & \HC $q_2$ & \HC $q_3$ & \HC $q_4$ & \HC $q_5$ \\
            \hline \HC $0$ & $q_10$S   & $q_40$S   & $q_50$S   & $q_41$R   & $q_0'1$L \\
            \hline \HC $1$ & $q_20$R   & $q_30$R   & $q_10$R   & ---       & --- \\
            \hline
        \end{tabular}
    \end{table}
    Начальная конфигурация машины $T$: $q_11^{3k}$. Выполняем тьюрингово вычисление:
    \[
        q_11^{3k} \models 0q_21^{3k - 1} \models 0^2q_31^{3k - 2} \models 0^{3\cdot 1}q_11^{3(k - 1)} \models \dots \models 0^{3\cdot 2}q_11^{3(k - 2)} \models \dots \models \underbrace{0^{3k}q_10 \models 0^{3k}q_10}_{\text{зацикливание}}.
    \]
    Как видно, построенная итерация не применима к слову $1^{3k}$.

    \item \underline{Пример на разветвление машин Тьюринга}. \\
    Найти результат применения разветвления $T = T\big(T_1, \langle q_{10}', q_{21}\rangle, T_2, \langle q_{10}'', q_{31}\rangle, T_3\big)$ машин $T_2$ и $T_3$, управляемого машиной $T_1$, к слову $P = 101^3$ ($q_{20}$~---~заключительное состояние машины $T_2$, а $q_{30}$~---~заключительное состояние машины $T_3$):
    \begin{table}[H]
        \centering
        $T_1$: \begin{tabular}{| c | c | c |}
            \hline         & \HC $q_{11}$ & \HC $q_{12}$ \\
            \hline \HC $0$ & $q_{12}0$R   & $q_{10}'0$R   \\
            \hline \HC $1$ & $q_{12}1$R   & $q_{10}''1$L   \\
            \hline
        \end{tabular},\quad
        $T_2$: \begin{tabular}{| c | c |}
            \hline         & \HC $q_{21}$ \\
            \hline \HC $0$ & $q_{20}1$S   \\
            \hline \HC $1$ & $q_{21}0$R   \\
            \hline
        \end{tabular},\quad
        $T_3$: \begin{tabular}{| c | c | c |}
            \hline         & \HC $q_{31}$ & \HC $q_{32}$ \\
            \hline \HC $0$ & $q_{32}1$L   & $q_{30}1$S \\
            \hline \HC $1$ & $q_{31}1$R   & $q_{32}0$L \\
            \hline
        \end{tabular}.
    \end{table}
    \underline{Решение}. \\
    Построение разветвления машин $T_2$ и $T_3$, управляемого машиной $T_1$, состоит в замене $q_{10}'$ на $q_{21}$ и $q_{10}''$ на $q_{31}$ во всех командах $T_1$, и объединении всех таблиц (изменённая таблица для $T_1$ и оригинальные таблицы $T_2$ и $T_3$):
    \begin{table}[H]
        \centering
        $T$: \begin{tabular}{| c | c | c | c | c | c |}
            \hline         & \HC $q_{11}$ & \HC $q_{12}$ & \HC $q_{21}$ & \HC $q_{31}$ & \HC $q_{32}$ \\
            \hline \HC $0$ & $q_{12}0$R   & $q_{21}0$R   & $q_{20}1$S   & $q_{32}1$L   & $q_{30}1$S   \\
            \hline \HC $1$ & $q_{12}1$R   & $q_{31}1$L   & $q_{21}0$R   & $q_{31}1$R   & $q_{32}0$L  \\
            \hline
        \end{tabular}.
    \end{table}
    Начальная конфигурация: $q_{11}10111$. Выполняем тьюрингово вычисление:
    \[
        q_{11}10111 \models 1q_{12}0111 \models 10q_{21}111 \models 100q_{21}11 \models \dots \models 10000q_{21}0 \models 10000q_{20}1.
    \]
    Таким образом, $T(P) = 10^41$.
\end{enumerate}

\subsubsection{Вычислимость по Тьюрингу. Тезис Тьюринга}
Введём обозначения: $\widetilde\alpha^n = \langle\alpha_1, \dots, \alpha_n\rangle$, $n \geqslant 1$~---~набор $n$ целых неотрицательных чисел, $\widetilde x^n = \langle x_1, \dots, x_n\rangle$, $n \geqslant 1$~---~набор $n$ переменных.
\begin{definition*}
    Слово $1^{\alpha_1 + 1}01^{\alpha_2 + 1}0\dots01^{\alpha_n + 1}$ называется \textit{основным машинным кодом} (или просто \textit{кодом}) набора $\widetilde\alpha^n$ в двоичном алфавите $B = \{0, 1\}$.
\end{definition*}
Обозначается код $k\left(\widetilde\alpha^n\right)$. В частности, кодом неотрицательного целого числа $\alpha$ является слово $1^{\alpha + 1}$.

\begin{definition*}
    \textit{Частичной числовой функцией} называется функция $y = f\left(\widetilde x^n\right)$, у которой переменные $x_i$ принимают значения из множества целых неотрицательных чисел $\mathbb{N}_0 = \{0, 1, 2, \dots\}$ и $y \in \mathbb{N}_0$.
\end{definition*}

Таким образом, область определения частичной числовой функции $f$ есть $D_f \subseteq \mathbb{N}_0^n$ и область значений $E_f \subseteq \mathbb{N}_0$. Если первое включение заменяется равенством, то функция называется \textit{всюду определённой}.

\begin{definition*}
    Частичная числовая функция $f$ называется \textit{вычислимой по Тьюрингу}, если существует машина Тьюринга $T_f$, обладающая свойствами:
    \begin{enumerate}
        \item Если $f$ определена на наборе $\widetilde\alpha^n$, то $T_f\left(k\left(\widetilde\alpha^n\right)\right) = k\left(f\left(\widetilde\alpha^n\right)\right)$.
        \item Если $f$ не определена на наборе $\widetilde\alpha^n$, то либо $T_f\left(k\left(\widetilde\alpha^n\right)\right)$ не является кодом никакого числа из $\mathbb{N}_0$, либо машина $T_f$ не применима к слову $k\left(\widetilde\alpha^n\right)$.
    \end{enumerate}
    Если функция $f$ вычислима по Тьюрингу с помощью машины $T_f$, то говорят, что машина $T_f$ \textit{вычисляет} функцию $f$.
\end{definition*}

\begin{definition*}
    Машина Тьюринга $T_f$ \textit{правильно вычисляет} функцию $f$, если:
    \begin{enumerate}
        \item В случае, когда $f$ определена на наборе $\widetilde\alpha^n$, $T_f$, начав с самой левой единицы кода $k\left(\widetilde\alpha^n\right)$, останавливается, $T_f\left(k\left(\widetilde\alpha^n\right)\right) = k\left(f\left(\widetilde\alpha^n\right)\right)$, и головка в заключительной конфигурации обозревает самую левую единицу кода $k\left(f\left(\widetilde\alpha^n\right)\right)$.
        \item В случае, когда $f$ не определена на наборе $\widetilde\alpha^n$, $T_f$, начав с самой левой единицы кода $k\left(\widetilde\alpha^n\right)$, не останавливается.
    \end{enumerate}
\end{definition*}

\textbf{Тезис Тьюринга}. Для всякой вычислимой функции, для которой существует эффективный алгоритм вычисления, можно построить правильно вычисляющую её машину Тьюринга. 